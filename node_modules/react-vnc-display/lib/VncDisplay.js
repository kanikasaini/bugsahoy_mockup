(function(a,b){'object'==typeof exports&&'object'==typeof module?module.exports=b(require('novnc-node'),require('object.omit'),require('prop-types'),require('react')):'function'==typeof define&&define.amd?define('VncDisplay',['novnc-node','object.omit','prop-types','react'],b):'object'==typeof exports?exports.VncDisplay=b(require('novnc-node'),require('object.omit'),require('prop-types'),require('react')):a.VncDisplay=b(a['novnc-node'],a['object.omit'],a['prop-types'],a.react)})(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.i=function(a){return a},b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='./',b(b.s=5)}([function(a,b,c){'use strict';Object.defineProperty(b,'__esModule',{value:!0});var d=c(4),e=c.n(d),f=c(3),g=c.n(f),h=c(1),i=c.n(h),j=c(2),k=c.n(j);class l extends e.a.PureComponent{constructor(...a){var b;return b=super(...a),Object.defineProperty(this,'disconnect',{enumerable:!0,writable:!0,value:()=>{this.rfb&&(this.rfb.disconnect(),this.rfb=null)}}),Object.defineProperty(this,'connect',{enumerable:!0,writable:!0,value:()=>{if(this.disconnect(),!!this.canvas){const a=Object.assign(k()(this.props,['name','connectTimeout','url','width','height']),{encrypt:this.props.url.startsWith('wss:')||this.props.encrypt,target:this.canvas});this.rfb=new h.RFB(a),this.rfb.connect(this.props.url)}}}),Object.defineProperty(this,'registerChild',{enumerable:!0,writable:!0,value:(a)=>this.canvas=a}),Object.defineProperty(this,'handleMouseEnter',{enumerable:!0,writable:!0,value:()=>{this.rfb&&(document.activeElement&&document.activeElement.blur(),this.rfb.get_keyboard().grab(),this.rfb.get_mouse().grab())}}),Object.defineProperty(this,'handleMouseLeave',{enumerable:!0,writable:!0,value:()=>{this.rfb&&(this.rfb.get_keyboard().ungrab(),this.rfb.get_mouse().ungrab())}}),b}componentDidMount(){this.connect()}componentWillUnmount(){this.disconnect()}componentWillReceiveProps(a){this.rfb&&(a.scale===this.props.scale||(this.rfb.get_display().set_scale(a.scale||1),this.get_mouse().set_scale(a.scale||1)))}render(){return e.a.createElement('canvas',{style:this.props.style,ref:this.registerChild,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave})}}b.VncDisplay=l,Object.defineProperty(l,'propTypes',{enumerable:!0,writable:!0,value:{url:f.string.isRequired,style:f.object,width:f.number,height:f.number,encrypt:f.bool,wsProtocols:c.i(f.arrayOf)(f.string),onClipboard:f.func,onUpdateState:f.func,onPasswordRequired:f.func,onBell:f.func,onDesktopName:f.func,connectTimeout:f.number,disconnectTimeout:f.number,shared:f.bool}}),Object.defineProperty(l,'defaultProps',{enumerable:!0,writable:!0,value:{style:{},encrypt:!1,wsProtocols:['binary'],trueColor:!0,localCursor:!0,connectTimeout:5,disconnectTimeout:5,width:1280,height:720}})},function(a){a.exports=require('novnc-node')},function(a){a.exports=require('object.omit')},function(a){a.exports=require('prop-types')},function(a){a.exports=require('react')},function(a,b,c){a.exports=c(0)}])});
//# sourceMappingURL=VncDisplay.js.map