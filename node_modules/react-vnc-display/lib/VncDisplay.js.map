{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap f8fed75b18324cd30feb","webpack:///./src/components/VncDisplay.js","webpack:///external \"novnc-node\"","webpack:///external \"object.omit\"","webpack:///external \"prop-types\"","webpack:///external \"react\""],"names":[],"mappings":"AAAA,cACA,2BACA,oHACA,4CACA,WACA,kEACA,yHAEA,0EACA,QAAC,mBACD,kBCTA,cAMA,IACA,iBAGA,mBACA,CACA,IACA,KAIA,2CAGA,aAGA,OACA,OAIA,IAzBA,eA4BA,MAGA,mBAA2C,CAAc,QAGzD,qBACA,GACA,kCACA,CACA,gBACA,cAGA,OAGA,iBACA,YACA,qBAA2B,UAA0B,UACrD,YAAiC,CAAe,QAChD,EAEA,aADA,QAIA,mBAAsD,wCAA+D,SAGrH,MAGA,6JC7DA,KAEa,eAAmB,KAAM,aAAc,uHAiDrC,IACP,CAAC,KAIL,WAAK,IACL,kBAAK,IACN,KAxDiD,0EA0DxC,IACR,SAEA,cAAI,CAAC,KAIL,aAAM,GAAU,OAAO,OAAO,IAAK,KAKjC,wDAEA,SAAS,KAAK,MAAM,IAAI,WAAW,SAAW,KAAK,MACnD,eAAQ,KAGV,cAAK,IAAM,GACX,eAAK,IAAI,QAAQ,KAAK,MACvB,KA9EiD,gFAgFjC,KAAQ,KAAc,yDAhFW,iCAkF/B,IACb,CAAC,KAIL,eAAS,eAAiB,SAAS,cACnC,YAAK,IAAI,eACT,YAAK,IAAI,YACV,OA1FiD,mFA4F/B,IACb,CAAC,KAIL,WAAK,IAAI,eACT,cAAK,IAAI,YACV,SAnGiD,KA8BlD,oBACE,MACD,SAED,uBACE,MACD,YAED,CAA0B,4BACpB,CAAC,KAIL,MAAI,EAAU,QAAU,KAAK,MAC3B,aAAK,IAAI,cAAc,UAAU,EAAU,OAC3C,QAAK,YAAY,UAAU,EAAU,OAExC,IAsDD,SACE,OACE,4BACE,OAAO,KAAK,MACZ,UAAK,KACL,2BAAc,KACd,8BAAc,KAEnB,kBA7GiD,wBAAvC,8DAET,KAAK,SACL,iBACA,eACA,gBACA,iBACA,mBAAa,eACb,sBACA,qBACA,0BACA,cACA,qBACA,sBACA,2BACA,gBAAQ,iBAfC,iEAmBT,CACA,SACA,WACA,uBACA,aACA,8BACA,oBACA,QACA,YAAQ,oBChCZ,kB,2BCAA,kB,4BCAA,kB,2BCAA,kB","file":"VncDisplay.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"novnc-node\"), require(\"object.omit\"), require(\"prop-types\"), require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"VncDisplay\", [\"novnc-node\", \"object.omit\", \"prop-types\", \"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VncDisplay\"] = factory(require(\"novnc-node\"), require(\"object.omit\"), require(\"prop-types\"), require(\"react\"));\n\telse\n\t\troot[\"VncDisplay\"] = factory(root[\"novnc-node\"], root[\"object.omit\"], root[\"prop-types\"], root[\"react\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f8fed75b18324cd30feb","import React from 'react';\nimport { arrayOf, string, bool, func, number, object } from 'prop-types';\nimport { RFB } from 'novnc-node';\nimport omit from 'object.omit';\n\nexport class VncDisplay extends React.PureComponent {\n  static propTypes = {\n    url: string.isRequired,\n    style: object,\n    width: number,\n    height: number,\n    encrypt: bool,\n    wsProtocols: arrayOf(string),\n    onClipboard: func,\n    onUpdateState: func,\n    onPasswordRequired: func,\n    onBell: func,\n    onDesktopName: func,\n    connectTimeout: number,\n    disconnectTimeout: number,\n    shared: bool\n  };\n\n  static defaultProps = {\n    style: {},\n    encrypt: false,\n    wsProtocols: ['binary'],\n    trueColor: true,\n    localCursor: true,\n    connectTimeout: 5,\n    disconnectTimeout: 5,\n    width: 1280,\n    height: 720,\n  };\n\n  componentDidMount() {\n    this.connect();\n  }\n\n  componentWillUnmount() {\n    this.disconnect();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (!this.rfb) {\n      return;\n    }\n\n    if (nextProps.scale !== this.props.scale) {\n      this.rfb.get_display().set_scale(nextProps.scale || 1);\n      this.get_mouse().set_scale(nextProps.scale || 1);\n    }\n  }\n\n  disconnect = () => {\n    if (!this.rfb) {\n      return;\n    }\n\n    this.rfb.disconnect();\n    this.rfb = null;\n  };\n\n  connect = () => {\n    this.disconnect();\n\n    if (!this.canvas) {\n      return;\n    }\n\n    const options = Object.assign(omit(this.props, [\n      'name',\n      'connectTimeout',\n      'url',\n      'width',\n      'height'\n    ]), {\n      encrypt: this.props.url.startsWith('wss:') || this.props.encrypt,\n      target: this.canvas,\n    });\n\n    this.rfb = new RFB(options);\n    this.rfb.connect(this.props.url);\n  };\n\n  registerChild = (ref) => this.canvas = ref;\n\n  handleMouseEnter = () => {\n    if (!this.rfb) {\n      return;\n    }\n\n    document.activeElement && document.activeElement.blur();\n    this.rfb.get_keyboard().grab();\n    this.rfb.get_mouse().grab();\n  };\n\n  handleMouseLeave = () => {\n    if (!this.rfb) {\n      return;\n    }\n\n    this.rfb.get_keyboard().ungrab();\n    this.rfb.get_mouse().ungrab();\n  };\n\n  render() {\n    return (\n      <canvas\n        style={this.props.style}\n        ref={this.registerChild}\n        onMouseEnter={this.handleMouseEnter}\n        onMouseLeave={this.handleMouseLeave} />\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/VncDisplay.js","module.exports = require(\"novnc-node\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"novnc-node\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"object.omit\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"object.omit\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"prop-types\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"prop-types\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}